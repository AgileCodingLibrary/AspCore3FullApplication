@model IEnumerable<LittlePacktBookstore.Models.Order>
@{
	ViewData["Title"] = "Index";
	var isAdmin = ViewData["isAdmin"].ToString() == "true";
	if (isAdmin)
	{
		Layout = "~/Views/Shared/admin/_AdminLayout.cshtml";
	}
	else
	{
		Layout = "~/Views/Shared/_Layout.cshtml";
	}
}

<div class="text-center">
	<h1>Orders</h1>
</div>

<div class="container">
	<div class="row">
		<table class="table table-striped table-responsive-lg">
			<thead>
				<tr>
					@if (isAdmin)
					{
						<th>
							FirstName
						</th>
						<th>
							LastName
						</th>
					}
					<th>
						Title
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Email)
					</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
					<tr>
						@if (isAdmin)
						{
							<td>
								@Html.DisplayFor(modelItem => item.User.FirstName)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.User.LastName)
							</td>
						}
						<td>
							@Html.DisplayFor(modelItem => item.Book.Title)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Email)
						</td>
						<td>
							<a asp-action="Details" asp-route-id="@item.Id">Details</a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>
